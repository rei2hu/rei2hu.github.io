# simplex method 1

In a small deviation from the previous educational content which covered things
I learned during graduate studies, I decided to write about something I learned
during an undergrad class called "Optimization".

Let's say we're farming in a game, and we have a choice between two areas $l_x$
and $l_y$. When farming $l_x$, we can receive 23 gold per hour, and when farming
$l_y$ we can receive 12 gold per hour. On this alone, it makes sense to spend
all our time farming $l_x$.

Now, pretend you have to complete a number of objectives in the game so that you
can receive an (unrelated but much more rewarding) weekly reward that you MUST
achieve. The reason $l_x$ gives more gold per hour is because there are less
objectives - say 2 per hour compared to $l_y$'s 3 per hour. Depending on how
many objectives you need to be complete, and how much time you have to spend
this week, the optimal way to farm can change.

Also imagine farming each zone requires certain resources $r_1$ and $r_2$ per
hour. For example 1 hour of farming $l_x$ takes 5 $r_1$ and 20 $r_2$ while $l_y$
takes 10 and 5 respectively. Again, depending on how much $r_1$ and $r_2$ you
have, the optimal farming distribution is not obvious.

To fully realize this scenario, we'll come up with concrete numbers for the
constraints:

1. 24 hours of farming (maximum)
2. 40 objectives completed (at least)
3. 200 units of $r_1$
4. 300 units of $r_2$

This leaves us with the set of equations

$$
\begin{aligned}
    x + y &\leq 24 \\
    2x + 3y &\geq 40 \\
    5x + 10y &\leq 200 \\
    20x + 5y &\leq 300
\end{aligned}
$$

$$
x \geq 0, y \geq 0
$$

Where $x$ and $y$ are the hours spent farming locations $l_x$ and $l_y$.
Plotting these inequalities shows the location of solutions to the scenario i.e.
the feasible region.

![feasible region](/blobs/137/feasible.png)

If the colors are not clear, it's the section that contains the point (4, 14).
Now we have to determine which point in this area maximizes the equation
$23x +
12y$.

However, before figuring that out, let's go back to the simpler problem where
there was only one constraint - the hours per week (and at least 0 hours in each
area).

![feasible region for hours only](/blobs/137/one-constraint.png)

Intuitively, we knew that it was best to spent all of our farming time on $l_x$
was the best because it gave a higher gold per hour. By looking at this feasible
region, it should make sense that the optimal solution is somewhere on the lines
of the inequalities otherwise we would not be utilizing all hours available.
Similarly, it will never be in the middle of the line (with one exception)
because being there only shifts the answer partways to a maximum or minimum.

Look at the points (24, 0), (12, 12) and (0, 24). In our case, either $l_x$ or
$l_y$ is better, so using (12, 12) does not make any sense when we can improve
our values by either moving to fully farming $l_x$ or $l_y$. The one case where
it does make sense is if $l_x$ and $l_y$ are equally rewarding, which implies
that _any_ point on the line gives an optimal solution; (24, 0), (1, 23), ...,
(24, 0).

Now, going back to the original problem, with this new intuition, we now know
that the optimal solution should occur at one of the corners. This is known as
the
[Fundamental theorem of linear programming](https://en.wikipedia.org/wiki/Fundamental_theorem_of_linear_programming)
(which I was unaware of was a thing until I decided to write this)

> In mathematical optimization, the fundamental theorem of linear programming
> states, in a weak formulation, that the maxima and minima of a linear function
> over a convex polygonal region occur at the region's corners. Further, if an
> extreme value occurs at two corners, then it must also occur everywhere on the
> line segment between them.

![feasible region](/blobs/137/feasible.png)

Since we know that the optimal occurs and a corner, then we can look at our
feasible region and test and check each point, to find a solution. What are the
points? (0, 20), (8, 16), (12, 12), (14, 4), (0, 13.3).

When we plug those values into the original equation $23x + 12y$, it turns out
that (12, 12) gives the maximum of 420 gold, followed by (8, 16) with 376 gold,
and (14, 4) with 370. The minimum is at (0, 13.3) if you accept 13.3 as a valid
play time, giving approximately 160 gold while satisfying the weekly objective
count.

We can also plug these values into the original constraints to see which it hit:
For (12, 12)

$$
\begin{aligned}
    12 + 12 &\leq 24 \\
    2(12) + 3(12) &\geq 40 \\
    5(12) + 10(12) &\leq 200 \\
    20(12) + 5(12) &\leq 300
\end{aligned}
$$

We used up all of our 300 $r_2$ resource.

Is this visual graph and test/check approach the main way to do this? Definitely
not - in this case we had two variables so we were able to plot this, but in the
real world there could be hundreds which would be a mess to visualize if even
possible. Instead, we can take the concept of moving along edges to corners of
the feasible region and do things numerically.
