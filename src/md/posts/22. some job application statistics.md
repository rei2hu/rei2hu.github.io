# some job application statistics

This is a somewhat public record of my job applications and responses for a period
of job searches. Most data will be encrypted until I find another job or a long enough
time has passed.

For requirements, ✔ means I guarantee have this in terms of personal and professional
experience, - means moderate experience, ✖ means anything from only personal experience
to unable to give an accurate answer by myself to 0 experience.

Sometimes I move the requirements and nice to haves around. For example if the requirement
says one of a, b, c, then I'll just mark it as generalist (a|b|c) and move a, b,
c to nice to haves.

Also maybe some random thoughts here and there during the search:

- Initially I couldn't get the motivation to apply, but then once I started I was
  on a roll.
- Same thing for applying to jobs which require typing something up (via angel or
  workatastartup).
- Interesting thing here would be how I end up being inconsistent in rating myself
  on the same topic between job application
- What does it say about a startup when the founding engineer position is accepting
  new grads?
- For some reason I feel like a new grad still even though I have 2-3 yoe. It's interesting
  how the jobs I'm looking at are mainly put in 2 categories: senior and non senior,
  and I end up going for non senior because I have this idea that senior means 5+
  yoe at least. (granted I am not a large fan of yoe as a tell but conform to it
  because I believe other people believe in it)
- It's a little annoying when there's a discrepancy between the yoe on the job compared
  to the yoe required in the description. Mainly because it says I match when something
  needs like 1-2 years but then I read the description and it says 5+ years. Well,
  right now I'm only at a point where I apply to those that I more or less match
  or ones that I'm really interested in working at.

<!-- markdownlint-disable line-length-->
<div style="overflow:auto;width:80vw;">
  <table style="font-size:0.75em;white-space:nowrap;">
    <thead>
      <tr>
        <th>company</th>
        <th>requirements</th>
        <th>nice to haves</th>
        <th>application date</th>
        <th>rejection date</th>
        <th>1st reply date</th>
        <th>1st interview date</th>
        <th>2nd interview date</th>
        <th>offer date</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>zOVkjA4pdwUqZa41I6StuwPriKsxlSwhZ3m1og==~118,90,104,4,226,28,13,159,134,14,50,48</td>
        <td>
          <ul>
            <li>req 1 ✔ </li>
            <li>req2 ✖ </li>
            <li>req3 -</li>
          </ul>
        </td>
        <td></td>
        <td>empty to the left</td>
        <td>this is just</td>
        <td>a test row</td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>+fiiuH3VBvTX8bpqJHJD/0KWaceJ+Q==~177,122,94,91,34,87,106,148,228,201,236,126</td>
        <td>
          <ul>
            <li>1+ years building web apps ✔ </li>
            <li>Expertise in Node.js and Postgres ✔ </li>
            <li>Professional English ✔ </li>
            <li>Work remotely close to ET times ✔ </li>
            <li>Interest in small teams/many hats ✔ </li>
            <li>High level of engagement with product ✖ </li>
            <li>Passionate about solving hard problems ✔ </li>
          </ul>
        </td>
        <td>
          <ul>
            <li>Typescript ✔ </li>
            <li>React ✔ </li>
            <li>Mongo - </li>
            <li>Terraform ✖ </li>
            <li>AWS ✖ </li>
          </ul>
        </td>
        <td>HG7FrIgP+bfp3ZncbPQaMLJD0sNbMVSkvUKErZc=~183,247,143,182,17,215,251,27,225,176,248,162</td>
        <td>7GDFWyOTcD1d5muv39T6G7zru986wrDiVIjIvbU7~8,205,183,158,193,226,76,66,55,209,177,120</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>sq/W9Ux4hR7fqrpwpBJGd/rjq4P8SyGSsVg6~49,42,55,134,4,108,49,129,119,38,124,162</td>
        <td>
          <ul>
            <li>2+ years shipping code to prod ✔ </li>
            <li>Generalist (js|Python|C++|Java|SQL) ✔ </li>
            <li>Balance speed of shipping and quality - </li>
            <li>Write readable code ✔ </li>
            <li>Ownership of features ✔ </li>
            <li>Understand algorithms, systems, and design ✔ </li>
          </ul>
        </td>
        <td>
          <ul>
            <li>Javascript ✔ </li>
            <li>Python ✔ </li>
            <li>C++ ✖ </li>
            <li>Java - </li>
            <li>SQL - </li>
          </ul>
        </td>
        <td>JAkME9KoAqmwje5OpWhFUOsnw/GZtTwtQj2xlzM=~241,99,146,133,234,34,48,129,100,26,189,43</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>M7lilfwufQ+k07S9X0lFMggbPsvCnrnwC9q7~26,118,143,214,213,61,185,177,145,254,107,253</td>
        <td>
          <ul>
            <li>Strong knowledge of cs fundamentals, equivalent to B.S., M.S., or Ph.D in CS ✔ </li>
            <li>Comfortable writing substantial new code/modifying existing code ✔ </li>
            <li>Experience building distributed systems ✖ </li>
            <li>Learn new tech/concepts quickly ✔ </li>
            <li>Both autonomous and collaborative worker ✔ </li>
            <li>Strong verbal and written communication skills ✔ </li>
          </ul>
        </td>
        <td>
          <ul>
            <li>Experience building high performance systems ✖ </li>
            <li>Experience with Rust ✖ </li>
            <li>Experience implementing data infrastructure ✖ </li>
            <li>Compiler experience ✖ </li>
            <li>SQL - </li>
          </ul>
        </td>
        <td>+f4Ul7Gk2ItzOt4lf/AVl2BPQhxgHcmg8SupBpmb9N+Y~105,127,41,71,108,69,81,28,18,112,156,107</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>v7DH++wc45rdV8jTUiJSEk47Ja3r7Q==~62,77,209,92,124,161,238,68,190,150,219,162</td>
        <td>
          <ul>
            <li>Strong full-stack engineer ✔ </li>
            <li>Good product sense/attention to detail/passion for the impact of software ✔ </li>
            <li>BS in CS/3+ years of professional experience in software development ✔ </li>
          </ul>
        </td>
        <td></td>
        <td>OjSjIFCuTMigoj4bvsEQcZALswKh/IVZUK4DpiCrIMrJ~115,77,79,112,129,130,81,134,72,27,115,113</td>
        <td>vOnE4ymZNZONxA4eoPiNRPbgaPUNMk+XWY/ht3gIp0br~71,89,85,96,198,141,144,149,84,252,114,56</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>aAAC00CFVCTSOowYOEt/tngyQphQ~38,184,206,223,124,57,243,138,228,91,92,150</td>
        <td>
          <ul>
            <li>3+ years of experience ✔ </li>
            <li>Proven track record of a successfully built SaaS productse ✔ </li>
            <li>Builder of new products ✔ </li>
            <li>Experienced with Javascript/Typescript, React, Node.js, Express ✔ </li>
            <li>Good knowledge of frameworks, and specialized systems - </li>
            <li>Experience working with databases: Postgres, MongoDB or similar ✔ </li>
            <li>Knowledge of AWS/Cloud, Terraform ✖ </li>
            <li>Experience implementing complex software systems - </li>
            <li>Strong leadership skills/can influence stakeholders at all levels of org - </li>
            <li>Strong problem solving/analytical skills/creative thinker ✔ </li>
            <li>Strong team player, listener, discussion facilitator, opinion assimilator ✔ </li>
            <li>Self-starter, independent, proactive ✔ </li>
          </ul>
        </td>
        <td></td>
        <td>TPnL12+pKXr7cCTh/K3kZctjwjN5cKbC/S4NJK9UVhQX~176,183,40,87,232,200,217,244,245,86,221,68</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>Av7pf2lCHWZa2OHzRzb/uKl608habDao~125,67,202,220,137,67,55,129,33,178,40,38</td>
        <td>
          <ul>
            <li>Write clean, maintainable, scalable code and test and iterate quickly ✔ </li>
            <li>Have experience with Node.js, React, MongoDB and Python ✔ </li>
            <li>Have experience with AWS/Azure/GCP ✖ </li>
            <li>Ownership of features and stuff-get-doner ✔ </li>
            <li>Independent thinker with strong technical arguments ✔ </li>
            <li>Growth mindset and utilizes constructive feedback ✔ </li>
            <li>Want to work on a problem facing all of humanity ✔ </li>
          </ul>
        </td>
        <td>
          <ul>
            <li>Worked at a startup before ✖ </li>
            <li>Mobile development ✖ </li>
            <li>Embedded systems experience ✖ </li>
          </ul>
        </td>
        <td>je6uZPS7Fbn2Xis8z0F4VKKWOr08BP3hee8r+9UboMyC~64,124,100,59,140,216,28,90,152,111,3,244</td>
        <td>tnv6La4D6YwPeF0Z1mlePLRRSSPcG/UcvtuQ0M/yqAHY~175,53,92,134,103,227,207,41,14,228,14,1</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>mep0Yf9qIY0/uqs7+RqOS+S6Nbc/mw==~225,97,63,117,243,138,35,102,154,96,240,209</td>
        <td>
          This one is interesting as there was no list of hard requirements. <br />
          I'll just extract some based on what the contents of the job post were.
          <ul>
            <li>Javascript ✔ </li>
            <li>Autonomous/Accountable ✔ </li>
            <li>Views problems from others shoes ✔ </li>
            <li>Values (written) communication ✔ </li>
            <li>Generalist ✔ </li>
            <li>Curious, likes to learn something they aren't experienced in ✔ </li>
            <li>Supportive ✔ </li>
          </ul>
        </td>
        <td>
          Again, based on the post
          <ul>
            <li>C++ ✖ </li>
            <li>Network protocol experience ✖ </li>
            <li>GPU experience ✖ </li>
          </ul>
        </td>
        <td>zqZpQ1YuAR9keqtRKJGhlFe0sq0ENIVSj9GEDeT78nDB~123,226,71,138,41,48,5,160,2,92,145,150</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>HOq+aUkcqQ9FjsUliW380huG2jheAgNkag==~19,168,176,85,92,216,97,17,0,66,97,198</td>
        <td>
          <ul>
            <li>Experience with RESTful or graph APIs - </li>
            <li>Experience with an interpreted language and a compiled language ✔ </li>
            <li>Uses the right tool for the job ✔ </li>
            <li>Believes in automated testing ✔ </li>
            <li>Owns features and monitors them in prod ✔ </li>
            <li>Clean code ✔ </li>
            <li>Honest/speaks mind ✔ </li>
          </ul>
        </td>
        <td>
        </td>
        <td>HTMM3T/1pEOf1GY/nEJRyS6i7A8icVMKhof7wEuzLG7h~154,3,112,71,171,8,125,108,82,51,65,106</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>nkbOyk7aNxWOy3E9dKPnlGeWtuyOAw==~189,170,146,117,62,86,111,144,113,134,121,167</td>
        <td>
          <ul>
            <li>3+ years of software development, backend focused - </li>
            <li>Javascript/Typescript ✔ </li>
            <li>Experience building distributed, scalable cloud systems ✖ </li>
            <li>Knowledgable around REST, HTTP, JSON ✔ </li>
            <li>Understanding of serverless environments - </li>
            <li>Great communicator - </li>
            <li>Good at communicating technical details to non-technical people ✔ </li>
            <li>Data modeling/management experience ✖ </li>
          </ul>
        </td>
        <td>
          <ul>
            <li>Good with event driven systems - </li>
            <li>Worked with AWS Lambda, Dynamo DB, and other cloud services ✖ </li>
            <li>Designed microservice systems before ✔ </li>
            <li>Loves test driven development ✔ </li>
          </ul>
        </td>
        <td>oK0uPRfJhZPSQXaIUMmt005QLtCrpBfv2hy6sx95GJw=~182,65,160,133,34,230,196,185,184,210,131,204</td>
        <td>5Zx4jVCIyT+J1usIzYKfsvVaOAhz5IVnzJFbYJywfiM=~244,47,224,70,65,190,99,74,234,176,224,202</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>sGT+3RrTzH8aB7+ZRvmH0fyl+IY=~169,202,153,151,135,223,47,128,255,17,43,150</td>
        <td>
          <ul>
            <li>Comfortable with backend/frontend development - </li>
            <li>Good with javascript/javascript ecosystem ✔ </li>
            <li>Like working closely with product/sales for success - </li>
            <li>Not afraid to admit lack of knowledge ✔ </li>
            <li>USA based ✔ </li>
          </ul>
        </td>
        <td>
        </td>
        <td>z5MsQPi5tdCAI5tYwTG83RF5h2SH9UctVa/R97nJhFM=~159,166,166,190,231,202,214,27,179,199,71,216</td>
        <td>mJUWBz/7zc88aKHFruXBUlUki5VnTSEj9yZB3A21Zik=~166,82,36,58,198,60,172,106,2,101,47,56</td>
        <td>R7mhdH01zA1QHCYNIg6JI8SG0EiTyYa2AdtwFSBHmo0=~91,140,234,171,255,248,173,93,155,207,240,218</td>
        <td>idLyZoMecjimFntFLjrSNFaCi1HIi/ZzDqlOunhIJAO3~174,84,31,72,246,249,152,151,239,24,11,243</td>
        <td>GOrliLIsjKXROoPz7BL8QtkRg0WSdcdpAGWXZPRVjbQ=~166,207,123,71,199,233,194,48,138,250,87,104</td>
        <td></td>
      </tr>
      <tr>
        <td>tgr+dVOFH4Um/+GRcCbhSkMnHkc=~100,211,4,137,79,240,189,242,33,214,155,165</td>
        <td>
          <ul>
            <li>Typescript/Javascript ✔ </li>
            <li>Sass, React - </li>
            <li>GraphQL, Apollo, Absinthe ✖ </li>
            <li>Phoenix, Elixir ✖ </li>
            <li>Docker, Kubernetes ✖ </li>
            <li>GCP ✖ </li>
          </ul>
        </td>
        <td>
        </td>
        <td>NM1WzBWP66Qnyb7mCod5eYWFlMoCVhn8yDEcZFOwGP4=~67,169,119,36,2,158,198,249,126,6,18,59</td>
        <td>OQ05P+Ws81kMOUfLPjwyeLhLPtQICsf1IKNlwYIB6IM=~95,208,20,222,191,98,158,9,224,162,134,11</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>8ySbqe4Y/DM017aSh/ueg+lHC1MpoRuPf6QEEw==~187,168,34,211,225,203,91,94,48,142,142,195</td>
        <td>
          <ul>
            <li>Angular/AngularJS ✖ </li>
            <li>Typescript ✔ </li>
            <li>Java 11 - </li>
            <li>PostgreSQL - </li>
            <li>Elasticsearch ✖ </li>
            <li>AWS ✖ </li>
          </ul>
        </td>
        <td>
        </td>
        <td>Ep+VBS6oarGecl6HDRJ1ge3bFZxbC9/0nw4Tz+AnnHY=~148,120,126,153,4,66,103,40,55,110,22,177</td>
        <td></td>
        <td>8ePTNlGcjvcDLkRjzYR++C3icgPoVraFMQd9T44/9Ok=~220,171,35,212,9,22,203,79,255,73,114,46</td>
        <td>sFy+DnDbZ/zZaC0MuDtRjYD6aK5rncDQUUJl+uIPpuzp~0,27,166,236,208,60,132,60,147,180,112,21</td>
        <td>z9EyKNUHyZd4oakZ+ijrxK85Qjkg16wGn7KDMQRnNtE=~241,254,211,246,73,197,110,99,52,139,197,137</td>
        <td>q0T/hWJJIKS6hrNj5EnivVxn6MjSt1k33j0aoCi5ShE=~183,243,2,65,176,85,62,224,66,97,22,140</td>
      </tr>
      <tr>
        <td>qPKTQQc/PYTIBPX5z4vR+YgW07WeYQU=~19,1,166,131,128,3,167,39,59,57,117,184</td>
        <td>
          <ul>
            <li>React/Redux ✔ </li>
            <li>Typescript ✔ </li>
            <li>AWS ✖ </li>
            <li>Haskell ✖ </li>
            <li>Postgres - </li>
          </ul>
        </td>
        <td>
          <ul>
            <li>Excited to learn/use Haskell, React, and Typescript ✔</li>
          </ul>
        </td>
        <td>Gtavj6YIs5FEQhLkKZhaaLQBmTrovdJpxPJCA6OwPAE=~21,85,243,6,197,217,214,152,22,13,76,182</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>nnsEprJHjgzgxzmVx5f/xaBScBTjlUL4WBJTCKk=~44,244,30,231,0,138,119,67,244,222,245,253</td>
        <td>
          <ul>
            <li>Comfortable working with React/Node.js ✔ </li>
            <li>Expect with Javascript ✔ </li>
            <li>Solid testing, CI, deployment practices - </li>
            <li>2+ years shipping web apps ✔ </li>
            <li>Works well in fast paced environment with small team of engineers and UI/UX ✔ </li>
            <li>Passionate about bringing quality CS education to students around the world ✔ </li>
            <li>US work authorization ✔ </li>
          </ul>
        </td>
        <td>
          <ul>
            <li>Early stage startup experience ✖ </li>
            <li>Prevous experience as STEM tutor/TA ✔ </li>
          </ul>
        </td>
        <td>tlPjtpXeedKKosYBsSuikGcZ6CIfMTCdiJFI9YUiMos=~88,104,94,68,203,2,237,249,19,93,40,90</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
    </tbody>
  </table>
</div>
<!-- markdownlint-enable line-length-->

These diagrams are cool right?

<img src="/blobs/22/application-results.png" />

A few interesting notes and closing thoughts:

- First things first, I did get a request for a phone screen a company 10 days
  after applying, but I decided not to go through with it so this stuff is not fully
  accurate.
- 11 of 12 no response and immediate rejection ones are ones where I went through
  the typical upload resume to website and fill things out path.
- The 2 interviews I got were through applications where I had to send in an email
  to apply. 1 of 12 no response/immediate rejection outcomes was through email,
  although after looking a bit futher into the job post and cross referencing with
  other job postings, that post was 8-9 months old at time of applying. Although
  the email address seemed to be the CTO's email (name@company) so it could also
  have been buried and lost.
- Both applications where I reached the interview stage consisted of two interviews
  and both were with engineers. One was purely background and the other one was
  background and simple whiteboarding session. One company asked me to do a 4 hour
  takehome which would be reviewed for the final interview, the other company had
  longer hour interview a variety of topics. I did not talk with any non-technical
  people until the end of the final interview.

With only 2 companies on the list to talk about, I'm not sure how easy it is to
keep things anonymous but I'll try. Actually I just realized I don't have to commit
the key for now. Protip - disable javascript and you'll see which date boxes are
filled in.

For one company, I had a quick 30 minute background screen with the head of
engineering - nothing technical - and then was given an (estimated) 4 hour takehome.
In short, it was creating a web service that made requests to another provided service.
I spent some time installing typescript/express/websocket and wrote something that
worked along with a static html file for the front end. In retrospect, maybe I
should've went with create-react-app or something to prove my React skills but I
felt like I would've lost time dealing with it. After submission, I noticed a few
holes in the logic and asked for the opportunity to fix them before my submission
was considered and did so. The total time spent came to around 4.5 hours. I guess
the submission was ok and I was able to secure a followup interview where we would
discuss my implementation.

This interview actually occurred around 1 month after I wrote the code so I didn't
really remember what was there. I thought I was doing well but then it turns out
there was a bug hidden behind an async function and stuff which came as a fix to
a previous bug. It took my an embarrassingly long amount of time to understand it
unfortunately so I felt like I didn't do well in that interview (it was late and
I was tired or something, but no excuses here). I fell asleep at 8:30 pm that day.

The second company started out with a 1 hour simple technical interview where I
had to solve a simple parsing problem. One interesting thing is that I couldn't
load the whiteboarding website and noted that there was an error in the console
which said mozSomething was undefined. Deduced it was an issue with Firefox and
I ended up having to use Edge. I thought the interview was straightforward and I
hammered out some functional style code to handle everything. Then I was asked to
update the code for additional requirements which was no problem. I thought the
interview went over well, but then it hit me that this was a company that processed
a lot of data so perhaps they were looking for me to write a proper parser that
works on a character by character basis instead of loading it all into memory and
doing transformations that way. Well those fears were assuaged as I got a second
interview.

This time, I had to go through 4 interviews back to back where 2 different people
would cover various topics. The first one was similar to the initial interview -
solve a problem and then update based on updated requirements. I ended up not using
a functional style because it was a little more complex and I wasn't sure I could
pound out a solution in time. I ran into a couple of hurdles but actually we were
simulating pair programming so the second guy in the interview would suggest some
stuff which worked. Overall I think I did well and then we had time for a few questions.

The next portion of the interview was systems design and debugging. I don't think
I did too well with the design portion as I started rambling and overthought some
stuff, but the interviewer gave some architectural suggestions which I gladly took.
The debugging section was fine. I've worked with such a variety with systems I feel
like I'm good at debugging. And then there was a very short portion on using unix
systems which I thought I'd bomb as I haven't touched a unix system extensively
for the past few years. It ended up being a lot simpler than I imagined. I think
this was a below average result as I did poorly on the system design portion in
my opinion although I did well in the other two sections.

The next part was code review - specifically me reviewing some provided code samples.
Code samples in javascript and kind of unfamiliar languages were provided. I think
I found a solid amount of problems, but the issue is I was quite wiped by this point
and failed to focus on the larger idea and started focusing on nitpicking individual
lines. For example I might make a complaint about a line but really you could replace
that line and its surrounding ones with something simpler. Overall, I think I did
a little over average thanks to being able to guess a lot of language features due
to exposure of various programming languages and also because such I could catch
some non-obvious errors in the javascript samples as a heavy javascript user.

Finally came the culture section. Before this I had talked strictly to engineers
and now an engineer-turned-pm and who I believe was the hr person was interviewing
me. It was just some general describe something you worked on that you enjoy and
describe a conflict you've been in and how it was resolved. Sometimes I wish I prepared
stories for these questions, but I was able to say something off the top of my head
which was decent in my opinion. I think I did better than I would normally do on
non-technical sections as I have quite a poor track of the initial "phone screen"
with a recruiter. I think this is interesting and wonder if this is because I was
able to settle in with the other engineers before this section, compared to the
common occurrence where the first person you ever talk to is a recruiter asking
background and simple culture questions.

Overall, I think the job search was a lot better than what I had experienced previously.
The only issue is that I schedule each interview to be right after the end of my
work day. This means my interview performance was tied to how my day at work went.
We happen to be doing a release so there is a ton of mind numbing manual testing
that I have to help out with so this is definitely a tougher time to be having interviews
for me.

And quitting is another thing that I will write about, but that will be in its own
post.

<style>
ul {
    padding-left: 15px;
}
</style>
<script>
const exportedKey = {
    "alg": "A256GCM",
    "ext": true,
    "k": "rTESqH1AqI-lBJ5SdQcCRVxIMV-LiLYnA61ipt6Bq2E",
    "key_ops": [
      "encrypt",
      "decrypt"
    ],
    "kty": "oct"
};

async function decrypt(val, key) {
  // ~ isnt used in b64
  const [b64encoded, iv] = val.split("~");
  const encrypted = atob(b64encoded);
  const bytes = Uint8Array.from(
    encrypted.split("").map((c) => c.charCodeAt(0))
  );
  const result = await window.crypto.subtle.decrypt(
    { name: "AES-GCM", iv: Uint8Array.from(iv.split(",")) },
    key,
    bytes.buffer
  );
  return new TextDecoder().decode(result);
}

document.addEventListener("DOMContentLoaded", async () => {
  // try {
    const key = await window.crypto.subtle.importKey(
      "jwk",
      exportedKey,
      { name: "AES-GCM" },
      true,
      ["encrypt", "decrypt"]
    );
    const table = document.querySelector("table");
    const [
      {
        children: [header],
      },
      {
        children: [...rows],
      },
    ] = [...table.children];
    const columnNames = [...header.children].map((child) => child.innerHTML);
    const requirementsIdx = columnNames.indexOf("requirements");
    const nthIdx = columnNames.indexOf("nice to haves");

    rows.forEach((row) => {
      [...row.children].forEach(async (rowCell, i) => {
        if (i === requirementsIdx || i === nthIdx) return;
        try {
          rowCell.innerHTML = await decrypt(rowCell.innerHTML, key);
        } catch {
          // failed to decrypt
          rowCell.style.color = "red";
          rowCell.innerHTML = "empty,<br /> encrypted,<br /> or undecryptable";
        }
      });
    });
  // } catch {
  //   // probably no key...
  // }
});
</script>
